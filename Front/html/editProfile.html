<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Monopalim Team">

    <title>Monopalim</title>

    <!-- SCRIPT -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="/socket.io/socket.io.js"></script>

    <!-- CSS links -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />

    <!-- Custom styles for this template -->
    <link href="../css/menu.css" rel="stylesheet">
    <link href="../css/editProfile.css" rel="stylesheet">
    <link href="../css/profile.css" rel="stylesheet">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="76x76" href="../assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="../assets/favicon/site.webmanifest">
    <link rel="mask-icon" href="../assets/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">


</head>

<body style="background-color: #89D1D9">

<header>
    <div class="navbar navbar-dark">
        <div class="container d-flex justify-content-between">
            <a href="#" class="navbar-brand d-flex align-items-center" style="margin-left: 15px">
                <img id="home" src="../assets/img/menu/home.png" width="40" height="40">
            </a>
            <a href="#" class="navbar-brand d-flex align-items-center" style="margin-left: 10px">
                <img src="../assets/img/banner/profileBanner.png" width="400" height="70">
            </a>
            <a href="#" class="navbar-brand d-flex align-items-center" >
                <img id="profile" src="../assets/img/menu/profile.png" width="40" height="40">
            </a>
        </div>
    </div>
</header>

<main role="main">

    <div class="page-content page-container" id="page-content" align="center">
        <div class="padding">
            <div class="row container d-flex justify-content-center">
                <div class="col-xl-12 col-md-12">
                    <div class="card user-card-full">
                        <div class="row m-l-0 m-r-0">
                            <div class="col-sm-4 bg-c-lite-green user-profile">
                                <div class="card-block text-center text-black">
                                    <div class="m-b-25">
                                        <img id="profile_pic" name="profilePic" src="" alt="Photo de profil" style="background-color: white">
                                    </div>
                                    <div>
                                        <h2 id="currentUsername" style="color: white; margin-top: 1.5rem;">Pseudo</h2>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-8">
                                <div class="card-block">
                                    <div class="profile-head">
                                        <nav>
                                            <div class="nav nav-tabs" id="myTab" role="tablist">
                                                <a class="nav-link active" id="nav-username-tab" data-toggle="tab" href="#nav-username" role="tab" aria-controls="nav-username" aria-selected="true">Pseudo</a>
                                                <a class="nav-link" id="nav-email-tab" data-toggle="tab" href="#nav-email" role="tab" aria-controls="nav-email" aria-selected="false">Adresse mail</a>
                                                <a class="nav-link" id="nav-password-tab" data-toggle="tab" href="#nav-password" role="tab" aria-controls="nav-password" aria-selected="false">Mot de passe</a>
                                                <a class="nav-link" id="nav-picture-tab" data-toggle="tab" href="#nav-picture" role="tab" aria-controls="nav-picture" aria-selected="false">Avatar</a>
                                                <a class="nav-link" id="nav-delete-tab" data-toggle="tab" href="#nav-deletion" role="tab" aria-controls="nav-deletion" aria-selected="false">Supprimer le compte</a>

                                            </div>
                                        </nav>
                                    </div>
                                    <div class="tab-content profile-tab" id="myTabContent">
                                        <div class="tab-pane fade show active" id="nav-username" role="tabpanel" aria-labelledby="nav-username-tab">
                                            <form action="/changeUsername" method="post">
                                                <div class="form-group row mt-2">
                                                    <label for="newUsername" class="col-sm-3 col-form-label" style="color: black;">Nouveau pseudo</label>
                                                    <div class="col-sm-9">
                                                        <input type="text" class="form-control mt-2" name="newUsername" id="newUsername" placeholder="Nouveau pseudo" onkeyup="checkUsername()">
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label for="confirmNewUsername" class="col-sm-3 col-form-label" style="color: black;">Confirmer votre pseudo</label>
                                                    <div class="col-sm-9">
                                                        <input type="text" class="form-control mt-2" id="confirmNewUsername" placeholder="Confirmer votre pseudo" onkeyup="checkUsername()">
                                                    </div>
                                                </div>
                                                <div id="userMessage" style="color: black; margin-bottom: 1rem;"></div>
                                                <button type="submit" class="btn" style="background-color: #2484BF; color:white;" id="changeUsername" disabled="disabled">Confirmer</button>
                                            </form>
                                        </div>

                                        <div class="tab-pane fade" id="nav-email" role="tabpanel" aria-labelledby="nav-email-tab">
                                            <form action="/changeMail" method="post">
                                                <div class="form-group row">
                                                    <label for="currentMail" class="col-sm-3 col-form-label" style="color: black;">Adresse mail actuelle</label>
                                                    <div class="col-sm-9">
                                                        <p id="currentMail" style="color: black;"></p>
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label for="newEmail" class="col-sm-3 col-form-label" style="color: black;">Nouvelle adresse mail</label>
                                                    <div class="col-sm-9">
                                                        <input type="text" class="form-control mt-2" name="newEmail" id="newEmail" placeholder="Nouvelle adresse mail" onkeyup="checkMailAddress()">
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label for="confirmNewEmail" class="col-sm-3 col-form-label" style="color: black;">Confirmer votre adresse mail</label>
                                                    <div class="col-sm-9">
                                                        <input type="text" class="form-control mt-2" id="confirmNewEmail" placeholder="Confirmer votre mail" onkeyup="checkMailAddress()">
                                                    </div>
                                                </div>
                                                <div id="emailMessage" style="color: black; margin-bottom: 1rem;"></div>
                                                <button type="submit" class="btn" style="background-color: #2484BF; color:white;" id="changeEmail" disabled="disabled">Confirmer</button>
                                            </form>
                                        </div>

                                        <div class="tab-pane fade" id="nav-password" role="tabpanel" aria-labelledby="nav-password-tab">
                                            <form action="/verifyPassword" method="post" id="verifyPasswordForm" style="display:block">
                                                <div class="form-group row">
                                                    <label for="currentPassword" class="col-sm-3 col-form-label" style="color: black;">Mot de passe actuel</label>
                                                    <div class="col-sm-9">
                                                        <input type="password" class="form-control mt-3" name="currentPassword" id="currentPassword" placeholder="Mot de passe actuel">
                                                    </div>
                                                </div>
                                                <button type="submit" class="btn" style="background-color: #2484BF; color:white;" id="verifyPassword">Confirmer</button>
                                            </form>
                                            <form action="/changePassword" method="post" id="changePasswordForm" style="display:none">
                                                <div class="form-group row" id="newPasswordBlock">
                                                    <label for="newPassword" class="col-sm-3 col-form-label" style="color: black;">Nouveau mot de passe</label>
                                                    <div class="col-sm-9">
                                                        <input type="password" class="form-control mt-3" name="newPassword" id="newPassword" placeholder="Nouveau mot de passe" onkeyup="checkPassword()">
                                                    </div>
                                                </div>
                                                <div class="form-group row" id="confirmNewPasswordBlock">
                                                    <label for="confirmNewPassword" class="col-sm-3 col-form-label" style="color: black;">Confirmer le mot de passe</label>
                                                    <div class="col-sm-9">
                                                        <input type="password" class="form-control mt-3" id="confirmNewPassword" placeholder="Nouveau mot de passe" onkeyup="checkPassword()">
                                                    </div>
                                                </div>
                                                <div id="passwordMessage" style="color: black; margin-bottom: 1rem;"></div>
                                                <button type="submit" class="btn" style="background-color: #2484BF; color:white;" id="changePassword" disabled="disabled">Confirmer</button>
                                            </form>
                                        </div>

                                        <div class="tab-pane fade" id="nav-picture" role="tabpanel" aria-labelledby="nav-picture-tab">
                                            <form action="/changePicture" method="post" enctype="multipart/form-data">
                                                <div class="col-sm-12">
                                                    <table id="avatarsTable" class="avatarsTable">
                                                        <tr>
                                                            <td id="td_random"><img class="avatar" id="random" src="../assets/img/avatars/random.png"/></td>
                                                            <td id="td_random2"><img class="avatar" id="random2" src="../assets/img/avatars/random2.png"/></td>
                                                            <td id="td_random3"><img class="avatar" id="random3" src="../assets/img/avatars/random3.png"/></td>
                                                            <td id="td_random4"><img class="avatar" id="random4" src="../assets/img/avatars/random4.png"/></td>
                                                            <td id="td_random5"><img class="avatar" id="random5" src="../assets/img/avatars/random5.png"/></td>
                                                        </tr>
                                                        <tr>
                                                            <td id="td_random6"><img class="avatar" id="random6" src="../assets/img/avatars/random6.png"/></td>
                                                            <td id="td_random7"><img class="avatar" id="random7"src="../assets/img/avatars/random7.png"/></td>
                                                            <td id="td_random8"><img class="avatar" id="random8" src="../assets/img/avatars/random8.png"/></td>
                                                            <td id="td_random9"><img class="avatar" id="random9" src="../assets/img/avatars/random9.png"/></td>
                                                            <td id="td_random10"><img class="avatar" id="random10" src="../assets/img/avatars/random10.png"/></td>
                                                         </tr>
                                                    </table>
                                                </div>
                                                <input type="text" class="form-control mt-2" name="newPicture" id="newPicture" style="display: none">
                                                <button type="submit" class="btn" style="background-color: #2484BF; color:white; margin-left: 15px;" id="changePicture" >Confirmer</button>
                                            </form>
                                        </div>

                                        <div class="tab-pane fade" id="nav-deletion" role="tabpanel" aria-labelledby="nav-deletion-tab">
                                            <p style="color: black;" class="mt-2">Vous voulez partir ? Nous sommes tristes (un peu) mais espérons vous revoir très bientôt.</p>
                                            <h4 style="color: black;"><strong>Attention !</strong> Cette opération est irréversible !</h4>
                                            <form action="/deletion" method="post">
                                                <div class="form-group row">
                                                    <label for="confirmDeletion" class="col-sm-3 col-form-label mt-2" style="color: black;">Entrez votre pseudo :</label>
                                                    <div class="col-sm-9">
                                                        <input type="text" class="form-control mt-3" id="confirmDeletion" name="usernameDelete" placeholder="Pseudo" onkeyup="checkDeletion()">
                                                    </div>
                                                </div>
                                                <button type="submit" class="btn btn-danger mt-2" id="deleteAccount" disabled="disabled">Supprimer</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<script>
    let socket = io();
</script>
<script src="../js/header.js"></script>
<script src="../js/editProfile.js"></script>
</body>
</html>
